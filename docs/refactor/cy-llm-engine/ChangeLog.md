# CY-LLM Engine Refactor - Change Log

## 变更记录

### [2026-02-10] Phase 2 完成 - 架构设计批准
**变更类型**: 架构设计  
**状态**: ✅ 已批准  
**决策内容**:
- 采用依赖注册表(Dependency Registry)模式解决依赖地狱问题
- 设计四层架构：硬件检测 -> 运行时选择 -> 依赖解析 -> 服务运行
- 合并 src/ 和 CY_LLM_Backend/ 目录到统一的 src/cy_llm/ 结构
- 定义 BaseEngine 抽象基类统一引擎接口

**影响范围**:
- 新增: deploy/dependency_registry.json
- 新增: src/cy_llm/deps/ 模块
- 修改: 目录结构（删除重复代码）
- 保持: 外部API接口不变

**决策原因**:
- 用户要求建立智能依赖管理系统，支持硬件自动检测
- 需要消除目录重复和依赖冲突
- 保持向后兼容性

---

### [变更模板]
**变更类型**: [架构/接口/范围/工具]  
**状态**: [提案/审批中/已批准/已回滚]  
**决策内容**:  
**影响范围**:  
**决策原因**:  
**审批人**: 
