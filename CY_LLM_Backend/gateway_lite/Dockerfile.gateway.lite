FROM python:3.11-slim

WORKDIR /app

COPY CY_LLM_Backend/gateway_lite/requirements.txt /app/requirements.txt
RUN pip install --no-cache-dir -r /app/requirements.txt

COPY CY_LLM_Backend /app/CY_LLM_Backend

ENV PYTHONPATH=/app/CY_LLM_Backend
ENV COORDINATOR_GRPC_ADDR=coordinator:50051

EXPOSE 8000

CMD ["uvicorn", "gateway_lite.app.main:app", "--host", "0.0.0.0", "--port", "8000"]
